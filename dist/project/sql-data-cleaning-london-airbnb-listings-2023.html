<!DOCTYPE html><html lang="en"><head>
    <meta charset="UTF-8">
    <link rel="icon" type="image/svg+xml" href="/vite.svg">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Website Title</title>
    <script type="module" crossorigin="" src="/assets/app-bb026792.js"></script>
    <link rel="stylesheet" href="/assets/index-071a8c15.css">
  <link rel="modulepreload" crossorigin="" href="/assets/README-e9affc58.js"><meta name="description" content="Data cleaning using SQL: London AirBnb listings March 2023"></head>
  <body>
    <div id="app" data-server-rendered="true"><div class="dark pt-0.5"><div class="flex flex-col dark:bg-primary-dark min-h-screen"><nav id="nav" class="fixed top-0 z-10 bg-gray-50 w-full x-0 mx-auto top-0 z-10 bg-primary-light dark:bg-primary-dark flex-none" data-v-27da57eb=""><div class="z-10 max-w-screen-lg mx-auto sm:flex justify-between sm:items-center my-3" data-v-27da57eb=""><div class="flex justify-between items-center px-4 sm:px-0" data-v-27da57eb=""><div data-v-27da57eb=""><a href="/" class="" data-v-27da57eb=""><img src="file:///D:/Personal/portfolio/vite-ssg/assets/images/logo-light.png" class="w-36" alt="Light Logo" data-v-27da57eb=""></a></div><div class="flex flex-items sm:hidden" data-v-27da57eb=""><a href="#" aria-label="Theme Switcher" class="sm:hidden bg-ternary-light dark:bg-ternary-dark hover:bg-hover-light dark:hover:bg-hover-dark hover:shadow-sm px-2.5 mx-1.5 py-2 rounded-lg" data-v-27da57eb=""><!----></a><button type="button" class="focus:outline-none" aria-label="Hamburger Menu" data-v-27da57eb=""><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" class="h-7 w-7 fill-current text-secondary-dark dark:text-ternary-light" data-v-27da57eb=""><!----><path fill-rule="evenodd" d="M4 5h16a1 1 0 0 1 0 2H4a1 1 0 1 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2zm0 6h16a1 1 0 0 1 0 2H4a1 1 0 0 1 0-2z" data-v-27da57eb=""></path></svg></button></div></div><div class="hidden m-0 sm:ml-4 mt-5 sm:mt-3 sm:flex p-5 sm:p-0 justify-center items-center shadow-lg sm:shadow-none" data-v-27da57eb=""><a href="/projects" class="font-general-medium block text-left text-lg font-medium text-primary-dark dark:text-ternary-light hover:text-indigo-600 dark:hover:text-indigo-300 sm:mx-4 mb-2 sm:py-2" aria-label="Projects">Projects</a><a href="/about" class="font-general-medium block text-left text-lg font-medium text-primary-dark dark:text-ternary-light hover:text-indigo-600 dark:hover:text-indigo-300 sm:mx-4 mb-2 sm:py-2 border-t-2 pt-3 sm:pt-2 sm:border-t-0 border-primary-light dark:border-secondary-dark" aria-label="About Me">About Me</a><a href="/contact" class="font-general-medium block text-left text-lg font-medium text-primary-dark dark:text-ternary-light hover:text-indigo-600 dark:hover:text-indigo-300 sm:mx-4 mb-2 sm:py-2 border-t-2 pt-3 sm:pt-2 sm:border-t-0 border-primary-light dark:border-secondary-dark" aria-label="Contact">Contact</a><a href="/credentials" class="font-general-medium block text-left text-lg font-medium text-primary-dark dark:text-ternary-light hover:text-indigo-600 dark:hover:text-indigo-300 sm:mx-4 mb-2 sm:py-2 border-t-2 pt-3 sm:pt-2 sm:border-t-0 border-primary-light dark:border-secondary-dark" aria-label="Credentials">Credentials</a></div><div class="hidden sm:flex justify-between items-center flex-col md:flex-row" data-v-27da57eb=""><a href="#" aria-label="Theme Switcher" class="ml-8 bg-primary-light dark:bg-ternary-dark px-3 py-2 shadow-sm rounded-xl cursor-pointer" data-v-27da57eb=""><!----></a></div></div></nav><div class="flex-grow pt-8"><div theme="dark"> Project <div data-v-ed5cc15f=""><h1 data-v-ed5cc15f="">Data cleaning using SQL: London AirBnb listings March 2023</h1><div class="markdown-body prose" data-v-ed5cc15f=""><h2>SQL</h2><p>Data source: <a href="http://">https://www.kaggle.com/datasets/minemartin/london-airbnb-listings-march-2023</a></p><pre class="hljs"><code><span class="hljs-comment">/*
Cleaning Data in SQL Queries
Dataset:https://www.kaggle.com/datasets/minemartin/london-airbnb-listings-march-2023
*/</span>

<span class="hljs-comment">--SELECT * FROM `coursera-385403.london_airbnb_listings_march_2023.listings` LIMIT 1000;</span>

<span class="hljs-comment">--------------------------------------------------------------------------------------------------------------------------</span>

<span class="hljs-comment">-- Checking highly significant attributes for null values</span>

<span class="hljs-keyword">WITH</span> null_host_location <span class="hljs-keyword">AS</span>
  (<span class="hljs-keyword">SELECT</span> 
    <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) null_host_location_count
  <span class="hljs-keyword">FROM</span> 
    `coursera<span class="hljs-number">-385403.</span>london_airbnb_listings_march_2023.listings`
  <span class="hljs-keyword">WHERE</span> 
    host_location <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">OR</span> <span class="hljs-built_in">TRIM</span>(host_location) <span class="hljs-operator">=</span> <span class="hljs-string">''</span> ) ,
  null_property_type <span class="hljs-keyword">AS</span>
  (<span class="hljs-keyword">SELECT</span> 
    <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) null_property_type_count
  <span class="hljs-keyword">FROM</span> 
    `coursera<span class="hljs-number">-385403.</span>london_airbnb_listings_march_2023.listings`
  <span class="hljs-keyword">WHERE</span> 
    property_type <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">OR</span> <span class="hljs-built_in">TRIM</span>(property_type) <span class="hljs-operator">=</span> <span class="hljs-string">''</span> ),
  null_room_type <span class="hljs-keyword">AS</span>
  (<span class="hljs-keyword">SELECT</span> 
    <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) null_room_type_count
  <span class="hljs-keyword">FROM</span> 
    `coursera<span class="hljs-number">-385403.</span>london_airbnb_listings_march_2023.listings`
  <span class="hljs-keyword">WHERE</span> 
    room_type <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">OR</span> <span class="hljs-built_in">TRIM</span>(room_type) <span class="hljs-operator">=</span> <span class="hljs-string">''</span> ),
  null_price_or_zero <span class="hljs-keyword">AS</span>
  (<span class="hljs-keyword">SELECT</span> 
    <span class="hljs-built_in">COUNT</span>(<span class="hljs-operator">*</span>) null_price_or_zero_count
  <span class="hljs-keyword">FROM</span> 
    `coursera<span class="hljs-number">-385403.</span>london_airbnb_listings_march_2023.listings`
  <span class="hljs-keyword">WHERE</span> 
    price <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">OR</span> price <span class="hljs-operator">=</span> <span class="hljs-number">0</span> )
<span class="hljs-keyword">SELECT</span> 
  null_host_location_count, null_property_type_count, null_room_type_count,null_price_or_zero_count 
<span class="hljs-keyword">FROM</span> null_host_location,null_property_type,null_room_type,null_price_or_zero;

<span class="hljs-comment">-- Filtering null host_location and null or zero price</span>
<span class="hljs-keyword">SELECT</span> 
  <span class="hljs-operator">*</span>
<span class="hljs-keyword">FROM</span> `coursera<span class="hljs-number">-385403.</span>london_airbnb_listings_march_2023.listings`
<span class="hljs-keyword">WHERE</span> host_location <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">OR</span> <span class="hljs-built_in">TRIM</span>(host_location) <span class="hljs-operator">!=</span> <span class="hljs-string">''</span>
  <span class="hljs-keyword">AND</span> price <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>;


<span class="hljs-comment">-- Classifying property_type to `entire_unit`, `private_room`, `others`</span>
<span class="hljs-comment">-- Classifying room_type_type to `entire_home_apt`, `private_room`, `others`</span>
<span class="hljs-comment">-- Classifying prices in to ranges 1-50 = `cheap` , 51-99 = `average` , 99+ = `expensive`</span>
<span class="hljs-comment">-- Filter out listing outside UK</span>
<span class="hljs-keyword">SELECT</span> 
  <span class="hljs-operator">*</span>,
  <span class="hljs-keyword">CASE</span>
    <span class="hljs-keyword">WHEN</span> <span class="hljs-built_in">LOWER</span>(<span class="hljs-built_in">TRIM</span>(property_type)) <span class="hljs-operator">=</span> <span class="hljs-string">'entire rental unit'</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'entire_unit'</span>
    <span class="hljs-keyword">WHEN</span> <span class="hljs-built_in">LOWER</span>(<span class="hljs-built_in">TRIM</span>(property_type)) <span class="hljs-operator">=</span> <span class="hljs-string">'private room in rental unit'</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'private_room'</span>
    <span class="hljs-keyword">ELSE</span> <span class="hljs-string">'others'</span>
  <span class="hljs-keyword">END</span> <span class="hljs-keyword">AS</span> property_type_classification,
  <span class="hljs-keyword">CASE</span>
    <span class="hljs-keyword">WHEN</span> <span class="hljs-built_in">LOWER</span>(<span class="hljs-built_in">TRIM</span>(room_type)) <span class="hljs-operator">=</span> <span class="hljs-string">'entire home/apt'</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'entire_home_apt'</span>
    <span class="hljs-keyword">WHEN</span> <span class="hljs-built_in">LOWER</span>(<span class="hljs-built_in">TRIM</span>(room_type)) <span class="hljs-operator">=</span> <span class="hljs-string">'private room'</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'private_room'</span>
    <span class="hljs-keyword">ELSE</span> <span class="hljs-string">'others'</span>
  <span class="hljs-keyword">END</span> <span class="hljs-keyword">AS</span> room_type_classification,
  <span class="hljs-keyword">CASE</span> 
    <span class="hljs-keyword">WHEN</span> price <span class="hljs-keyword">BETWEEN</span> <span class="hljs-number">1</span> <span class="hljs-keyword">AND</span> <span class="hljs-number">49</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'cheap'</span>
    <span class="hljs-keyword">WHEN</span> price <span class="hljs-keyword">BETWEEN</span> <span class="hljs-number">50</span> <span class="hljs-keyword">AND</span> <span class="hljs-number">99</span> <span class="hljs-keyword">THEN</span> <span class="hljs-string">'average'</span>
    <span class="hljs-keyword">ELSE</span> <span class="hljs-string">'expensive'</span>
  <span class="hljs-keyword">END</span> <span class="hljs-keyword">AS</span> price_classification
<span class="hljs-keyword">FROM</span> `coursera<span class="hljs-number">-385403.</span>london_airbnb_listings_march_2023.listings`
<span class="hljs-keyword">WHERE</span> 
  (host_location <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">OR</span> <span class="hljs-built_in">TRIM</span>(host_location) <span class="hljs-operator">!=</span> <span class="hljs-string">''</span>)
  <span class="hljs-keyword">AND</span> price <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>
  <span class="hljs-keyword">AND</span> <span class="hljs-built_in">LOWER</span>(<span class="hljs-built_in">TRIM</span>(host_location)) <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%united kingdom%'</span>;

<span class="hljs-comment">--Calculate the sum Airbnb listings in each location</span>

<span class="hljs-keyword">SELECT</span> 
  host_location,
  <span class="hljs-built_in">COUNT</span>(host_location) <span class="hljs-keyword">as</span> listing_count
<span class="hljs-keyword">FROM</span> `coursera<span class="hljs-number">-385403.</span>london_airbnb_listings_march_2023.listings`
<span class="hljs-keyword">WHERE</span> 
  (host_location <span class="hljs-keyword">IS</span> <span class="hljs-keyword">NOT</span> <span class="hljs-keyword">NULL</span> <span class="hljs-keyword">OR</span> <span class="hljs-built_in">TRIM</span>(host_location) <span class="hljs-operator">!=</span> <span class="hljs-string">''</span>)
  <span class="hljs-keyword">AND</span> price <span class="hljs-operator">&gt;</span> <span class="hljs-number">0</span>
  <span class="hljs-keyword">AND</span> <span class="hljs-built_in">LOWER</span>(<span class="hljs-built_in">TRIM</span>(host_location)) <span class="hljs-keyword">LIKE</span> <span class="hljs-string">'%united kingdom%'</span>
<span class="hljs-keyword">GROUP</span> <span class="hljs-keyword">BY</span> host_location;

</code></pre></div></div></div></div><div class="flex justify-center items-center text-center dark:bg-primary-dark flex-none"><div class="font-general-regular text-lg text-ternary-dark dark:text-ternary-light"> Â© 2023 &nbsp;-&nbsp; Soliver Mazo. </div></div></div></div></div>
    
  

</body></html>